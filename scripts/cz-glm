#!/bin/bash
# Non-interactive GLM wrapper - use like: cz-glm -p "task"

# Unset unwanted environment variables (same as cz function)
GEMINI_API_KEY="" \
GOOGLE_CLOUD_PROJECT="" \
GOOGLE_APPLICATION_CREDENTIALS="" \
CLAUDE_CODE_USE_VERTEX="" \
CLOUD_ML_REGION="" \
GOOGLE_VERTEX_PROJECT="" \
ANTHROPIC_VERTEX_PROJECT_ID="" \
ANTHROPIC_BASE_URL="https://api.z.ai/api/anthropic" \
ANTHROPIC_AUTH_TOKEN="$GLM_API_KEY" \
ANTHROPIC_DEFAULT_OPUS_MODEL="glm-4.7" \
ANTHROPIC_DEFAULT_SONNET_MODEL="glm-4.7" \
ANTHROPIC_DEFAULT_HAIKU_MODEL="glm-4.5-air" \
DISABLE_INTERLEAVED_THINKING=true \
API_TIMEOUT_MS=600000 \
BASH_MAX_TIMEOUT_MS=300000 \
CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS=1 \
claude "$@"
